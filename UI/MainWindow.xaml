<Window x:Class="UI.MainWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:oxy="http://oxyplot.org/wpf"
        Title="Simulation Viewer" Height="720" Width="1100"
        WindowStartupLocation="CenterScreen">

    <DockPanel>
        <!-- Панель параметров -->
        <Border DockPanel.Dock="Top" Padding="10" Background="#f5f5f5" BorderBrush="#ddd" BorderThickness="0,0,0,1">
            <StackPanel Orientation="Horizontal" VerticalAlignment="Center">
                <TextBlock Text="dt:" Margin="0,0,6,0" VerticalAlignment="Center"/>
                <TextBox Width="70" Text="{Binding Dt}" Margin="0,0,16,0"/>

                <TextBlock Text="Z0:" Margin="0,0,6,0" VerticalAlignment="Center"/>
                <TextBox Width="70" Text="{Binding Z0}" Margin="0,0,16,0"/>

                <TextBlock Text="φg0:" Margin="0,0,6,0" VerticalAlignment="Center"/>
                <TextBox Width="70" Text="{Binding PhiG0}" Margin="0,0,16,0"/>

                <TextBlock Text="Sk:" Margin="0,0,6,0" VerticalAlignment="Center"/>
                <TextBox Width="70" Text="{Binding Sk}" Margin="0,0,16,0"/>

                <Button Content="Run Simulation" Command="{Binding RunCommand}" Padding="14,6" Margin="10,0,0,0"/>
            </StackPanel>
        </Border>

        <!-- Вкладки -->
        <TabControl>
            <!-- График Z(Dzps) -->
            <TabItem Header="Графік">
                <oxy:PlotView Model="{Binding PlotModel}" />
            </TabItem>

            <!-- Таблица параметров (каждые 5 секунд) -->
            <TabItem Header="Таблиця">
                <DataGrid ItemsSource="{Binding TableData}"
                          AutoGenerateColumns="False"
                          CanUserAddRows="False"
                          IsReadOnly="True"
                          Margin="10">
                    <DataGrid.Columns>
                        <DataGridTextColumn Header="Time (s)" Binding="{Binding Time}" Width="*" />
                        <DataGridTextColumn Header="De" Binding="{Binding De}" Width="*" />
                        <DataGridTextColumn Header="Dn" Binding="{Binding Dn}" Width="*" />
                        <DataGridTextColumn Header="Gamma" Binding="{Binding Gamma}" Width="*" />
                        <DataGridTextColumn Header="Phi_g" Binding="{Binding Phi_g}" Width="*" />
                        <DataGridTextColumn Header="Dzps" Binding="{Binding Dzps}" Width="*" />
                        <DataGridTextColumn Header="Z" Binding="{Binding Z}" Width="*" />
                        <DataGridTextColumn Header="Ik" Binding="{Binding Ik}" Width="*" />
                    </DataGrid.Columns>
                </DataGrid>
            </TabItem>
        </TabControl>
    </DockPanel>
</Window>
